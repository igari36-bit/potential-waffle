{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"generateGameCode\", {\n    enumerable: true,\n    get: function () {\n      return generateGameCode;\n    }\n  });\n  Object.defineProperty(exports, \"generatePlayerId\", {\n    enumerable: true,\n    get: function () {\n      return generatePlayerId;\n    }\n  });\n  Object.defineProperty(exports, \"assignRoles\", {\n    enumerable: true,\n    get: function () {\n      return assignRoles;\n    }\n  });\n  Object.defineProperty(exports, \"calculateScores\", {\n    enumerable: true,\n    get: function () {\n      return calculateScores;\n    }\n  });\n  Object.defineProperty(exports, \"getWinningTeam\", {\n    enumerable: true,\n    get: function () {\n      return getWinningTeam;\n    }\n  });\n  const generateGameCode = () => {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n  };\n  const generatePlayerId = () => {\n    return `player_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n  };\n  const assignRoles = playerIds => {\n    const playerCount = playerIds.length;\n    let disruptorCount = 1;\n    if (playerCount >= 6) {\n      disruptorCount = 2;\n    }\n\n    // Shuffle players\n    const shuffled = [...playerIds].sort(() => Math.random() - 0.5);\n    const roles = {};\n    shuffled.forEach((id, index) => {\n      roles[id] = index < disruptorCount ? 'disruptor' : 'synchronizer';\n    });\n    return roles;\n  };\n  const calculateScores = (players, missionSuccess, roundNumber) => {\n    const scores = {};\n    Object.entries(players).forEach(([id, player]) => {\n      let points = 0;\n      if (player.role === 'synchronizer') {\n        points = missionSuccess ? 10 : 0;\n      } else if (player.role === 'disruptor') {\n        points = !missionSuccess ? 15 : 0;\n      }\n\n      // Bonus en ronda final\n      if (roundNumber === 6) {\n        points *= 2;\n      }\n      scores[id] = points;\n    });\n    return scores;\n  };\n  const getWinningTeam = rounds => {\n    const successCount = rounds.filter(r => r.result === 'success').length;\n    const totalRounds = rounds.length;\n    if (successCount > totalRounds / 2) {\n      return 'synchronizer';\n    } else if (successCount < totalRounds / 2) {\n      return 'disruptor';\n    }\n    return 'tie';\n  };\n});","lineCount":86,"map":[[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"enumerable"],[8,14,3,0],[9,4,3,0,"get"],[9,7,3,0],[9,18,3,0,"get"],[9,19,3,0],[10,6,3,0],[10,13,3,0,"generateGameCode"],[10,29,3,0],[11,4,3,0],[12,2,3,0],[13,2,7,0,"Object"],[13,8,7,0],[13,9,7,0,"defineProperty"],[13,23,7,0],[13,24,7,0,"exports"],[13,31,7,0],[14,4,7,0,"enumerable"],[14,14,7,0],[15,4,7,0,"get"],[15,7,7,0],[15,18,7,0,"get"],[15,19,7,0],[16,6,7,0],[16,13,7,0,"generatePlayerId"],[16,29,7,0],[17,4,7,0],[18,2,7,0],[19,2,11,0,"Object"],[19,8,11,0],[19,9,11,0,"defineProperty"],[19,23,11,0],[19,24,11,0,"exports"],[19,31,11,0],[20,4,11,0,"enumerable"],[20,14,11,0],[21,4,11,0,"get"],[21,7,11,0],[21,18,11,0,"get"],[21,19,11,0],[22,6,11,0],[22,13,11,0,"assignRoles"],[22,24,11,0],[23,4,11,0],[24,2,11,0],[25,2,30,0,"Object"],[25,8,30,0],[25,9,30,0,"defineProperty"],[25,23,30,0],[25,24,30,0,"exports"],[25,31,30,0],[26,4,30,0,"enumerable"],[26,14,30,0],[27,4,30,0,"get"],[27,7,30,0],[27,18,30,0,"get"],[27,19,30,0],[28,6,30,0],[28,13,30,0,"calculateScores"],[28,28,30,0],[29,4,30,0],[30,2,30,0],[31,2,57,0,"Object"],[31,8,57,0],[31,9,57,0,"defineProperty"],[31,23,57,0],[31,24,57,0,"exports"],[31,31,57,0],[32,4,57,0,"enumerable"],[32,14,57,0],[33,4,57,0,"get"],[33,7,57,0],[33,18,57,0,"get"],[33,19,57,0],[34,6,57,0],[34,13,57,0,"getWinningTeam"],[34,27,57,0],[35,4,57,0],[36,2,57,0],[37,2,3,7],[37,8,3,13,"generateGameCode"],[37,24,3,29],[37,27,3,32,"generateGameCode"],[37,28,3,32],[37,33,3,46],[38,4,4,2],[38,11,4,9,"Math"],[38,15,4,13],[38,16,4,14,"random"],[38,22,4,20],[38,23,4,21],[38,24,4,22],[38,25,4,23,"toString"],[38,33,4,31],[38,34,4,32],[38,36,4,34],[38,37,4,35],[38,38,4,36,"substring"],[38,47,4,45],[38,48,4,46],[38,49,4,47],[38,51,4,49],[38,52,4,50],[38,53,4,51],[38,54,4,52,"toUpperCase"],[38,65,4,63],[38,66,4,64],[38,67,4,65],[39,2,5,0],[39,3,5,1],[40,2,7,7],[40,8,7,13,"generatePlayerId"],[40,24,7,29],[40,27,7,32,"generatePlayerId"],[40,28,7,32],[40,33,7,46],[41,4,8,2],[41,11,8,9],[41,21,8,19,"Date"],[41,25,8,23],[41,26,8,24,"now"],[41,29,8,27],[41,30,8,28],[41,31,8,29],[41,35,8,33,"Math"],[41,39,8,37],[41,40,8,38,"random"],[41,46,8,44],[41,47,8,45],[41,48,8,46],[41,49,8,47,"toString"],[41,57,8,55],[41,58,8,56],[41,60,8,58],[41,61,8,59],[41,62,8,60,"substring"],[41,71,8,69],[41,72,8,70],[41,73,8,71],[41,75,8,73],[41,76,8,74],[41,77,8,75],[41,79,8,77],[42,2,9,0],[42,3,9,1],[43,2,11,7],[43,8,11,13,"assignRoles"],[43,19,11,24],[43,22,11,28,"playerIds"],[43,31,11,47],[43,35,11,82],[44,4,12,2],[44,10,12,8,"playerCount"],[44,21,12,19],[44,24,12,22,"playerIds"],[44,33,12,31],[44,34,12,32,"length"],[44,40,12,38],[45,4,13,2],[45,8,13,6,"disruptorCount"],[45,22,13,20],[45,25,13,23],[45,26,13,24],[46,4,15,2],[46,8,15,6,"playerCount"],[46,19,15,17],[46,23,15,21],[46,24,15,22],[46,26,15,24],[47,6,16,4,"disruptorCount"],[47,20,16,18],[47,23,16,21],[47,24,16,22],[48,4,17,2],[50,4,19,2],[51,4,20,2],[51,10,20,8,"shuffled"],[51,18,20,16],[51,21,20,19],[51,22,20,20],[51,25,20,23,"playerIds"],[51,34,20,32],[51,35,20,33],[51,36,20,34,"sort"],[51,40,20,38],[51,41,20,39],[51,47,20,45,"Math"],[51,51,20,49],[51,52,20,50,"random"],[51,58,20,56],[51,59,20,57],[51,60,20,58],[51,63,20,61],[51,66,20,64],[51,67,20,65],[52,4,22,2],[52,10,22,8,"roles"],[52,15,22,43],[52,18,22,46],[52,19,22,47],[52,20,22,48],[53,4,23,2,"shuffled"],[53,12,23,10],[53,13,23,11,"forEach"],[53,20,23,18],[53,21,23,19],[53,22,23,20,"id"],[53,24,23,22],[53,26,23,24,"index"],[53,31,23,29],[53,36,23,34],[54,6,24,4,"roles"],[54,11,24,9],[54,12,24,10,"id"],[54,14,24,12],[54,15,24,13],[54,18,24,16,"index"],[54,23,24,21],[54,26,24,24,"disruptorCount"],[54,40,24,38],[54,43,24,41],[54,54,24,52],[54,57,24,55],[54,71,24,69],[55,4,25,2],[55,5,25,3],[55,6,25,4],[56,4,27,2],[56,11,27,9,"roles"],[56,16,27,14],[57,2,28,0],[57,3,28,1],[58,2,30,7],[58,8,30,13,"calculateScores"],[58,23,30,28],[58,26,30,31,"calculateScores"],[58,27,31,2,"players"],[58,34,31,35],[58,36,32,2,"missionSuccess"],[58,50,32,25],[58,52,33,2,"roundNumber"],[58,63,33,21],[58,68,34,31],[59,4,35,2],[59,10,35,8,"scores"],[59,16,35,40],[59,19,35,43],[59,20,35,44],[59,21,35,45],[60,4,37,2,"Object"],[60,10,37,8],[60,11,37,9,"entries"],[60,18,37,16],[60,19,37,17,"players"],[60,26,37,24],[60,27,37,25],[60,28,37,26,"forEach"],[60,35,37,33],[60,36,37,34],[60,37,37,35],[60,38,37,36,"id"],[60,40,37,38],[60,42,37,40,"player"],[60,48,37,46],[60,49,37,47],[60,54,37,52],[61,6,38,4],[61,10,38,8,"points"],[61,16,38,14],[61,19,38,17],[61,20,38,18],[62,6,40,4],[62,10,40,8,"player"],[62,16,40,14],[62,17,40,15,"role"],[62,21,40,19],[62,26,40,24],[62,40,40,38],[62,42,40,40],[63,8,41,6,"points"],[63,14,41,12],[63,17,41,15,"missionSuccess"],[63,31,41,29],[63,34,41,32],[63,36,41,34],[63,39,41,37],[63,40,41,38],[64,6,42,4],[64,7,42,5],[64,13,42,11],[64,17,42,15,"player"],[64,23,42,21],[64,24,42,22,"role"],[64,28,42,26],[64,33,42,31],[64,44,42,42],[64,46,42,44],[65,8,43,6,"points"],[65,14,43,12],[65,17,43,15],[65,18,43,16,"missionSuccess"],[65,32,43,30],[65,35,43,33],[65,37,43,35],[65,40,43,38],[65,41,43,39],[66,6,44,4],[68,6,46,4],[69,6,47,4],[69,10,47,8,"roundNumber"],[69,21,47,19],[69,26,47,24],[69,27,47,25],[69,29,47,27],[70,8,48,6,"points"],[70,14,48,12],[70,18,48,16],[70,19,48,17],[71,6,49,4],[72,6,51,4,"scores"],[72,12,51,10],[72,13,51,11,"id"],[72,15,51,13],[72,16,51,14],[72,19,51,17,"points"],[72,25,51,23],[73,4,52,2],[73,5,52,3],[73,6,52,4],[74,4,54,2],[74,11,54,9,"scores"],[74,17,54,15],[75,2,55,0],[75,3,55,1],[76,2,57,7],[76,8,57,13,"getWinningTeam"],[76,22,57,27],[76,25,57,31,"rounds"],[76,31,57,44],[76,35,57,87],[77,4,58,2],[77,10,58,8,"successCount"],[77,22,58,20],[77,25,58,23,"rounds"],[77,31,58,29],[77,32,58,30,"filter"],[77,38,58,36],[77,39,58,37,"r"],[77,40,58,38],[77,44,58,42,"r"],[77,45,58,43],[77,46,58,44,"result"],[77,52,58,50],[77,57,58,55],[77,66,58,64],[77,67,58,65],[77,68,58,66,"length"],[77,74,58,72],[78,4,59,2],[78,10,59,8,"totalRounds"],[78,21,59,19],[78,24,59,22,"rounds"],[78,30,59,28],[78,31,59,29,"length"],[78,37,59,35],[79,4,61,2],[79,8,61,6,"successCount"],[79,20,61,18],[79,23,61,21,"totalRounds"],[79,34,61,32],[79,37,61,35],[79,38,61,36],[79,40,61,38],[80,6,62,4],[80,13,62,11],[80,27,62,25],[81,4,63,2],[81,5,63,3],[81,11,63,9],[81,15,63,13,"successCount"],[81,27,63,25],[81,30,63,28,"totalRounds"],[81,41,63,39],[81,44,63,42],[81,45,63,43],[81,47,63,45],[82,6,64,4],[82,13,64,11],[82,24,64,22],[83,4,65,2],[84,4,66,2],[84,11,66,9],[84,16,66,14],[85,2,67,0],[85,3,67,1],[86,0,67,2],[86,3]],"functionMap":{"names":["<global>","generateGameCode","generatePlayerId","assignRoles","sort$argument_0","shuffled.forEach$argument_0","calculateScores","Object.entries.forEach$argument_0","getWinningTeam","rounds.filter$argument_0"],"mappings":"AAA;gCCE;CDE;gCEE;CFE;2BGE;uCCS,yBD;mBEG;GFE;CHG;+BME;kCCO;GDe;CNG;8BQE;qCCC,2BD;CRS"},"hasCjsExports":false},"type":"js/module"}]}